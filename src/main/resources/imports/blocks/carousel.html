<meta property="blocks:title" content="Slideshow" lang="en">
<meta property="blocks:description" content="A carousel or slideshow for images" lang="en">
<meta property="blocks:icon" content="fa-file-image-o">

<link href="/assets/webjars/bootstrap-slider/4.8.3/css/bootstrap-slider.css" rel="stylesheet"/>
<link href="/assets/styles/imports/blocks-carousel.less" rel="stylesheet"/>

<script src="/assets/webjars/bootstrap-slider/4.8.3/bootstrap-slider.js" type="application/javascript"></script>
<script src="/assets/scripts/imports/blocks-carousel.js" type="application/javascript" data-scope-role="admin"></script>

<template>
    ## note: the data-interval false needs to be there to fix an editing bug (where a paused carousel starts cycling again after clicking an arrow))
    ## keyboard was disabled because it messed with the editor
    <div id="carousel-123" class="carousel slide" data-interval="false" data-keyboard="false">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            #if ($property['image'])
                #foreach($img in $property['image'])
                    <li data-target="#carousel-123" data-slide-to="$foreach.index" class="#if ($foreach.index == 0) active #end"></li>
                #end
            #else
                <li data-target="#carousel-123" data-slide-to="0" class="active"></li>
            #end
        </ol>

        <!-- Wrapper for slides -->
        <!-- WARNING: don't add role="listbox", cause it blocks the editor events -->
        <div class="carousel-inner">
            #if ($property['image'])
                #foreach($img in $property['image'])
                    <div class="item #if ($foreach.index == 0)active#end">
                        $img
                        <div class="carousel-caption">
                            $!property['title'][$foreach.index]
                            $!property['description'][$foreach.index]
                        </div>
                    </div>
                #end
            #else
                <div class="item active">
                    <img property="image" src="/assets/images/blocks/placeholder_slide_1.jpg" >
                    <div class="carousel-caption">
                        <div property="title" class="title">
                            <p>Enter a title</p>
                        </div>
                        <div property="description" class="description">
                            <p>Enter a description</p>
                        </div>
                    </div>
                </div>
            #end
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-123" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel-123" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</template>